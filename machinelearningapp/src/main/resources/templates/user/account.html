<!DOCTYPE HTML>
<html lang="en" xmlns:th = "http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body>
    <div id="header">My Account</div>

    <div th:replace="fragments :: links-at-account"></div>

    <div id="content">
        <div th:unless="${session.user}">
            <h3>
                Please <a th:href="@{/user/login}" th:text="'log in'"></a>
                or <a th:href="@{/user/signup}" th:text="'sign up'"></a>
                for an account.
            </h3>
        </div>

        <div th:if="${session.user}">
            <h3 th:text="${username}+'\'s account.'"></h3>


            <!--<div th:for="${user.getDatasets()}">
                <div th:each="data : ${user.getDatasets()}" th:text="ok">
                </div>
            </div>-->

            <div th:for="${datasets}" id="datasets-and-models"> 
                <div th:each="data : ${datasets}" class="row">
                    <div class="datasets" th:text="${data.name}"></div>
                    <div th:each="model : ${data.getModels()}" class="model-row">
                        <div class="models" th:text="${model.getTrainingError()}"></div>
                    </div>
                </div>
            </div>
            
            <!--<div th:for="${dataAndModels}" id="datasets-and-models">
                <div class="row">  
                        <h3>Datasets</h3>  
                        <h3>Models</h3>  
                </div>

                <div th:each="entry : ${dataAndModels.entrySet()}" class="row">
                    <div class="datasets" th:each="data : ${entry.getKey()}">
                        <form method="post" th:action="@{/retrieve-saved-data}">
                            <input type="hidden" name="id" th:value="${data.getId()}" />
                            <button type="submit" th:text="${data.getName()}"></button>
                        </form>
                    </div>


                    <div class="model-row">
                        <div class="models" th:each="model : ${entry.getValue()}" th:text="${model.getTestingError()}"></div>
                    </div>
                </div>
            </div>-->
            
            
        </div>


        

    </div>


    <div id="footer"></div>


</body>
</html>